{
  "id": "ssegning-keybound-wh-01",
  "realm": "ssegning-keybound-wh-01",
  "displayName": "SSegning Keybound WH 01",
  "displayNameHtml": "<b>SSegning Keybound</b> WH 01",
  "registrationAllowed": false,
  "rememberMe": false,
  "loginWithEmailAllowed": true,
  "resetPasswordAllowed": false,
  "requiredActions": [
    {
      "alias": "UPDATE_PROFILE",
      "name": "Update Profile",
      "providerId": "UPDATE_PROFILE",
      "enabled": false,
      "defaultAction": false,
      "priority": 10
    }
  ],
  "browserFlow": "keybound-publickey-browser-flow",
  "enabled": true,
  "authenticationFlows": [
    {
      "alias": "keybound-publickey-browser-flow",
      "description": "Public-key browser login flow",
      "providerId": "basic-flow",
      "topLevel": true,
      "builtIn": false,
      "authenticationExecutions": [
        {
          "authenticator": "ingest-signed-device-blob",
          "requirement": "REQUIRED",
          "priority": 10
        },
        {
          "authenticator": "verify-signed-blob",
          "requirement": "REQUIRED",
          "priority": 20
        },
        {
          "authenticator": "collect-phone-form",
          "requirement": "REQUIRED",
          "priority": 30
        },
        {
          "authenticator": "check-user-by-phone",
          "requirement": "REQUIRED",
          "priority": 40
        },
        {
          "authenticator": "route-enrollment-path",
          "requirement": "REQUIRED",
          "priority": 50
        },
        {
          "authenticatorFlow": true,
          "flowAlias": "keybound-publickey-approval-subflow",
          "requirement": "CONDITIONAL",
          "priority": 60
        },
        {
          "authenticatorFlow": true,
          "flowAlias": "keybound-publickey-otp-subflow",
          "requirement": "CONDITIONAL",
          "priority": 70
        }
      ]
    },
    {
      "alias": "keybound-publickey-approval-subflow",
      "description": "Approval path for known users that already have device credentials",
      "providerId": "basic-flow",
      "topLevel": false,
      "builtIn": false,
      "authenticationExecutions": [
        {
          "authenticator": "condition-approval-path",
          "requirement": "REQUIRED",
          "priority": 10
        },
        {
          "authenticator": "keybound-start-approval-request",
          "requirement": "REQUIRED",
          "priority": 20
        },
        {
          "authenticator": "keybound-wait-approval",
          "requirement": "REQUIRED",
          "priority": 30
        },
        {
          "authenticator": "persist-device-credential",
          "requirement": "REQUIRED",
          "priority": 40
        }
      ]
    },
    {
      "alias": "keybound-publickey-otp-subflow",
      "description": "OTP path for new users or users without active device credentials",
      "providerId": "basic-flow",
      "topLevel": false,
      "builtIn": false,
      "authenticationExecutions": [
        {
          "authenticator": "condition-otp-path",
          "requirement": "REQUIRED",
          "priority": 10
        },
        {
          "authenticator": "send-validate-otp-sms",
          "requirement": "REQUIRED",
          "priority": 20
        },
        {
          "authenticator": "find-or-create-user",
          "requirement": "REQUIRED",
          "priority": 30
        },
        {
          "authenticator": "persist-device-credential",
          "requirement": "REQUIRED",
          "priority": 40
        }
      ]
    }
  ],
  "components": {
    "org.keycloak.storage.UserStorageProvider": [
      {
        "name": "backend-user-storage",
        "providerId": "backend-user-storage",
        "config": {
          "enabled": [
            "true"
          ],
          "priority": [
            "0"
          ],
          "cachePolicy": [
            "DEFAULT"
          ]
        }
      }
    ]
  },
  "clients": [
  {
    "clientId": "node-cli",
    "name": "Node CLI Example",
    "enabled": true,
    "protocol": "openid-connect",
    "protocolMappers": [
      {
        "name": "device-binding",
        "protocol": "openid-connect",
        "protocolMapper": "device-binding-mapper",
        "consentRequired": false,
        "config": {}
      }
    ],
    "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "serviceAccountsEnabled": false,
      "redirectUris": [
        "http://localhost:3005/callback"
      ],
      "webOrigins": [
        "http://localhost:3005"
      ]
    }
  ]
}
